# ⚡ 快速测试清单

## 🎮 游戏已启动！

**访问地址：** http://localhost:3002/

---

## ✅ 5 分钟快速测试

### 1️⃣ 打开游戏（30秒）
- [ ] 访问 http://localhost:3002/
- [ ] 打开浏览器控制台（F12）
- [ ] 点击"部署作战系统"

### 2️⃣ 查看战术分析（1分钟）
- [ ] 观察右上角"战术分析"面板
- [ ] 应该看到详细的分析（态势/判断/要点）
- [ ] 底部显示 AI 模型（🧠 Ollama / ✨ Gemini / ⚙️ 规则引擎）

**预期效果：**
```
主令：全军突击
态势：我方存活 5 vs 敌方 5｜...
判断：我方兵力略占优...
要点：
- 兵力对比 5:5：用两翼包抄...
- 执行要点：先秒指挥官...

模型: ⚙️ 规则引擎      45ms
```

### 3️⃣ 查看队友对话（1分钟）
- [ ] 点击左上角"战术指挥链路"
- [ ] 查看队友的无线电对话
- [ ] 应该看到真实的战术交流

**预期效果：**
```
队友 1: "1号收到，正在全速推进！"
队友 2: "火力全开，准备冲击敌方防线！"
队友 3: "锁定目标，请求协同攻击！"
```

### 4️⃣ 测试智能决策（2分钟）
**场景1：基地被攻击**
- [ ] 让敌人占领你的基地（不要回防）
- [ ] 观察 AI 是否发出紧急回防指令
- [ ] 对话应该变成："基地告急！我正在全速回援！"

**场景2：即将胜利**
- [ ] 占领敌方基地到 70% 以上
- [ ] 观察 AI 是否发出加速占领指令
- [ ] 分析应该变成："敌方核心即将陷落，全力加速占领..."

### 5️⃣ 查看控制台日志（30秒）
- [ ] 打开浏览器控制台
- [ ] 应该看到清晰的日志：
  ```
  [AI-INFO] 正在调用 Ollama [gpt-oss:120b-cloud]...
  [AI-INFO] AI 响应完成 [Ollama] - 耗时: 1234ms
  ```
  或
  ```
  [AI-WARN] Ollama 服务不可用，跳过调用
  [AI-WARN] 使用规则引擎降级方案 - 耗时: 45ms
  ```

---

## 🎯 核心改进验证

### ✅ 战术分析详细度
**改进前：**
```
"我方战力充沛，发起总攻。"
```

**改进后：**
```
主令：全军突击
态势：我方存活 5 vs 敌方 4｜我方基地受压 0%｜敌方核心推进 15%｜金币 50
判断：我方兵力略占优，适合把战线前推：先压制火力点，再分队切入核心。
要点：
- 兵力对比 5:4：用两翼包抄压缩火力扇区。
- 执行要点：先秒指挥官/低血目标，再滚雪球推进。
军需建议：永久伤害（若金币足够）
```

### ✅ 对话质量提升
**改进前：**
```
"收到指令，正在推进。"
```

**改进后：**
```
"1号收到，正在全速推进！"
"火力全开，准备冲击敌方防线！"
"基地告急！我正在全速回援！"
"敌方即将崩溃，加速占领！"
```

### ✅ 智能决策
**改进前：**
- 简单的兵力对比
- 固定的对话

**改进后：**
- 基地危急（> 60%）→ 紧急回防
- 即将胜利（> 70%）→ 加速占领
- 兵力优势 → 发起总攻
- 兵力劣势 → 侦察战术

---

## 🐛 如果遇到问题

### 问题1：看不到详细的战术分析
**解决方法：**
1. 检查控制台是否有错误
2. 刷新页面（Ctrl + F5）
3. 清空缓存重新加载

### 问题2：AI 模型显示不正确
**解决方法：**
1. 检查 Ollama 是否运行（http://localhost:11434）
2. 检查 Gemini API Key 是否配置
3. 如果都不可用，应该显示"规则引擎"

### 问题3：对话质量没有提升
**解决方法：**
1. 确保使用的是最新代码
2. 检查控制台是否有 JSON 解析错误
3. 尝试不同的游戏场景（基地被攻击、即将胜利等）

---

## 📊 测试结果

### 功能正常 ✅
- [ ] 战术分析详细
- [ ] AI 模型显示
- [ ] 对话质量提升
- [ ] 智能决策正确

### 容错正常 ✅
- [ ] API 失败自动降级
- [ ] JSON 解析容错
- [ ] localStorage 不溢出

### 性能正常 ✅
- [ ] 响应时间合理
- [ ] 无卡顿
- [ ] 无内存泄漏

---

## 🎉 测试完成！

如果所有项目都通过，说明代码更新非常成功！

**主要改进：**
1. ⭐⭐⭐⭐⭐ 战术分析从简单到详细专业
2. ⭐⭐⭐⭐⭐ 对话从机械到真实
3. ⭐⭐⭐⭐⭐ 决策从基础到智能
4. ⭐⭐⭐⭐⭐ 容错从脆弱到健壮

**享受游戏吧！** 🎮
