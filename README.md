<div align="center">
<img width="1200" height="475" alt="GHBanner" src="https://github.com/user-attachments/assets/0aa67016-6eaf-458a-adb2-6e31a0763ed6" />
</div>

# AI Tank Commander - Tactical Arena

**独一无二的 AI 坦克大战，现已开源！** 😊

这是一场关于策略、AI 与火力的终极较量。作者作为一名“小白”开发者，历时十余天，在 AI 的辅助下完成了大部分代码编写、API 接入及玩法规划。项目虽然稚嫩，但倾注了极大的热情，希望大家能喜欢！

---

## 🚀 项目核心亮点

### 1. 深度队伍作战系统
不仅仅是混战！游戏引入了真正的**团队协同**机制。每一名队友都有自己的昵称、职责（进攻/防御）和实时战术对话。AI 队友会根据战场局势主动汇报位置，甚至在受损时请求支援。

### 2. 战术级地形多样化
战场地形不再是简单的方块，而是具有物理属性的影响因素：
*   **泥地 (MUD)**：降低坦克行驶速度。
*   **水域 (WATER)**：显著减缓坦克及子弹的移动。
*   **反弹墙 (REBOUND)**：子弹撞击后会发生物理反弹，利用角度进行间接打击！
*   **铁墙 (IRON) & 防弹玻璃 (BULLETPROOF)**：极高耐久或完全免疫普通攻击，改变进攻路径。
*   **石块 (STONE) & 玻璃 (GLASS)**：可破坏地形，为战术突围创造条件。

### 3. 极佳的视觉与打击感
*   **特效反馈**：击中、爆炸、摧毁等效果均有细腻的视觉动画（Explosion/Hit/Destruction）。
*   **UI 体验**：采用赛博朋克风格的 HUD 界面，具备高斯模糊效果、霓虹色彩反馈和动态缩放效果。

### 4. 灵活的多端操控
*   **桌面端**：经典 WASD/方向键移动，鼠标精准瞄准开火。
*   **移动端**：适配了动态虚拟摇杆，让您在手机上也能精准走位。

### 5. 多元化的战场物资
四种强力 Buff 随机刷新，瞬间扭转战局：
*   **⚡ 速度增益 (SPEED)**：1.8倍移动速度提升，持续 15 秒。
*   **🛡️ 防御增益 (DEFENSE)**：70% 伤害减免，持续 25 秒。
*   **❤️ 医疗包 (HEAL)**：每秒回复 10 点生命，持续 5 秒。
*   **💥 伤害增益 (DAMAGE)**：1.7倍攻击火力提升，持续 15 秒。

### 6. 全队共享军需商城
战斗中赚取的金币可用于购买**全队永久加成**：
*   **攻击力提升**：全员炮火更猛。
*   **防御力强化**：提升全队生存上限。
*   **回血效率**：全员自动修复速度加快。
*   **急迫加成**：提升子弹初速与射速。

---

## 🧠 创意更新 - AI 核心玩法

### 1. 队友 AI 智能规划
AI 队友不再乱跑！内置 A* 寻路逻辑与**防卡死系统**，能够智能绕过障碍物，寻找最优进攻或撤退路线。

### 2. AI 代打系统 (核心推荐)
开启此功能后，AI 将完全接管您的坦克。它会结合当前的战术指令集，像一名老练的指挥官一样为您作战。

### 3. 深度记忆系统 (黑科技)
**重点功能**：AI 指挥官会记录每一场战斗的胜负、您的表现和偏好。在战斗结束后进行“自我反思”，总结新的战术并学习您的打法模式。下一次战斗，它会变得更聪明！

### 4. GPT-OSS 驱动的决策系统
项目接入了 **gpt-oss:120b-cloud**。AI 指挥官会根据实时战场密度、经济情况、敌我对比，为您提供真人级别的战术分析报告。

---

## 🛠️ 技术深度解析 (开发者必看)

### 1. 物理反馈与碰撞算法
*   **Push-out 逻辑**：为了解决大量坦克在狭窄区域挤压导致的“卡死”或“穿模”问题，项目实现了一套基于向量的推开算法。当单位重叠时，系统会计算重叠向量并平滑地将双方推开，同时确保不会被推入不可破坏的墙体内。
*   **Lerp 旋转平滑**：坦克车身与炮塔的转向并非瞬间完成，而是通过 `lerpAngle` 插值算法实现。这种带有惯性感的转向让操作更加沉浸，也为“甩炮”等高级操作提供了可能。

### 2. 战术状态机 (FSM)
AI 队友并非简单的随机移动，而是运行着一套复杂的**战术状态机**：
*   `ATTACK_CORE`：忽略散兵，直插对方基地。
*   `AMBUSH`：在掩体后方埋伏，待敌军进入射程后发起突袭。
*   `SEEK_HEALTH`：生命值过低时，AI 会自动扫描全图寻找最近的医疗包。
*   `SURROUND_MOVE`：配合战术指令，尝试从侧翼切入。

### 3. AI 经济学模型
游戏为 AI 编写了独立的“理财逻辑”。AI 指挥官会根据全队当前的短板（如：死伤过快则优先升级防御，久攻不下则升级伤害），自动在军需商城中为团队购买永久加成，模拟真实的团队管理。

### 4. 渲染优化
虽然是 Canvas 渲染，但项目采用了**多层缓冲**与**局部刷新策略**。小地图、HUD 指令集、游戏主战场分别处于不同的更新频率下，确保在数十辆坦克同屏乱战时依然保持 60FPS 的丝滑体验。

---

## 🛠️ 后续更新计划
1.  **历史战绩排行榜**：记录每一场辉煌战斗，支持本地持久化存储。
2.  **AI 决策进化**：更复杂的博弈逻辑，让敌军更难对付。
3.  **商城物品扩充**：加入更多有趣的战术装备（如无人机侦察、空中支援）。
4.  **视听效果升级**：更震撼的 3D 环绕音效与更华丽的渲染效果。
5.  **多模式对决**：引入“夺旗模式”、“生存竞赛”等更多玩法。

---

## 🏃 如何运行

**环境要求：** Node.js (推荐 v18+)

1.  **克隆并安装依赖：**
    ```bash
    npm install
    ```
2.  **配置 AI 核心 (可选)：**
    在 `.env.local` 文件中设置相关的 API Key 以启用高级战术分析与记忆系统。
3.  **开启战斗：**
    ```bash
    npm run dev
    ```

---

以上就是项目的详细介绍。项目完全开源，欢迎各位大牛和萌新一起运行体验！如果您有任何建议、更新想法，或者想一起合作开发，欢迎在 **QQ、微信** 等平台随时交流。

*让 AI 赋予坦克灵魂，在指尖开启铁甲风暴！*
